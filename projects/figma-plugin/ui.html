<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: blob: https://static.figma.com https://companieslogo.com; connect-src 'self' ws://localhost:3055 wss://talk-to-figma-socket.onrender.com https://talk-to-figma-socket.onrender.com https://static.figma.com; font-src 'self' data: https://static.figma.com; style-src 'self' 'unsafe-inline' https://static.figma.com; script-src 'self' 'unsafe-inline' https://static.figma.com;" />
    <title>Talk to Figma Plugin</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        margin: 0;
        padding: 20px;
        color: #e0e0e0;
        background-color: #1e1e1e;
      }
      .container {
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      h1 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 10px;
        color: #ffffff;
      }
      h2 {
        font-size: 14px;
        font-weight: 600;
        margin-top: 20px;
        margin-bottom: 8px;
        color: #ffffff;
      }
      button {
        background-color: #18a0fb;
        border: none;
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        margin-top: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.2s;
      }
      button:hover {
        background-color: #0d8ee0;
      }
      button.secondary {
        background-color: #3d3d3d;
        color: #e0e0e0;
      }
      button.secondary:hover {
        background-color: #4d4d4d;
      }
      button:disabled {
        background-color: #333333;
        color: #666666;
        cursor: not-allowed;
      }
      input {
        border: 1px solid #444444;
        border-radius: 4px;
        padding: 8px;
        margin-bottom: 12px;
        font-size: 14px;
        width: 100%;
        box-sizing: border-box;
        background-color: #2d2d2d;
        color: #e0e0e0;
      }
      label {
        display: block;
        margin-bottom: 4px;
        font-size: 12px;
        font-weight: 500;
        color: #cccccc;
      }
      .status {
        padding: 12px;
        border-radius: 6px;
        font-size: 14px;
      }
      .status.connected {
        background-color: #1a472a;
        color: #4ade80;
      }
      .status.disconnected {
        background-color: #471a1a;
        color: #ff9999;
      }
      .status.info {
        background-color: #1a3147;
        color: #66b3ff;
      }
      .section {
        margin-bottom: 16px;
      }
      .hidden {
        display: none;
      }
      .logo {
        width: 50px;
        height: 50px;
      }
      .header {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
      }
      .header-text {
        margin-left: 12px;
      }
      .header-text h1 {
        margin: 0;
        font-size: 16px;
      }
      .header-text p {
        margin: 4px 0 0 0;
        font-size: 12px;
        color: #999999;
      }
      .tabs {
        display: flex;
        border-bottom: 1px solid #444444;
        margin-bottom: 16px;
      }
      .tab {
        padding: 8px 16px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        color: #999999;
      }
      .tab.active {
        border-bottom: 2px solid #18a0fb;
        color: #18a0fb;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
      .link {
        color: #18a0fb;
        text-decoration: none;
        cursor: pointer;
      }
      .link:hover {
        text-decoration: underline;
      }
      .header-logo {
        display: flex;
        align-items: center;
        padding: 10px;
        border-radius: 16px;
        background-color: #333;
      }
      .header-logo-image {
        width: 24px;
        height: 24px;
        object-fit: contain;
      }
      /* Progress styles */
      .operation-complete {
        color: #4ade80;
      }
      .operation-error {
        color: #ff9999;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header-logo">
          <img
            class="header-logo-image"
            src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABhsAAAQ0CAMAAABQCl3UAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAwBQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Bz0LCAAAAQB0Uk5TABEpPkAsGlSDobvAtJt/UR8bhr3v/+iuaxZ3zstGl6AQDoz2vyJa7uk43/dw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"
          />
        </div>
        <div class="header-text">
          <h1>Talk To Figma</h1>
        </div>
      </div>

      <div class="tabs">
        <div id="tab-connection" class="tab active">Connection</div>
        <div id="tab-about" class="tab">About</div>
      </div>

      <div id="content-connection" class="tab-content active">
        <div class="section">
          <label for="server">Server</label>
          <div style="display: flex; gap: 8px; align-items: center;">
            <input
              type="text"
              id="server"
              placeholder="https://talk-to-figma-socket.onrender.com"
              value="https://talk-to-figma-socket.onrender.com"
            />
            <button id="btn-connect" class="primary" style="margin-top: 0;">Connect</button>
          </div>
        </div>

        <div id="connection-status" class="status disconnected">
          <div id="connection-message">Not connected to the MCP server</div>
          <div id="channel-info" class="hidden" style="margin-top: 8px; font-weight: 600;">
            Channel: <span id="channel-name"></span>
          </div>
        </div>

        <div class="section">
          <button id="btn-disconnect" class="secondary" disabled>
            Disconnect
          </button>
        </div>
        
        <!-- Add Progress Bar Section -->
        <div id="progress-container" class="section hidden">
          <h2>Operation Progress</h2>
          <div id="progress-message">No operation in progress</div>
          <div style="width: 100%; background-color: #444; border-radius: 4px; margin-top: 8px;">
            <div id="progress-bar" style="width: 0%; height: 8px; background-color: #18a0fb; border-radius: 4px; transition: width 0.3s;"></div>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 12px;">
            <div id="progress-status">Not started</div>
            <div id="progress-percentage">0%</div>
          </div>
        </div>
      </div>

      <div id="content-about" class="tab-content">
        <div class="section">
          <h2>About Talk To Figma Plugin</h2>
          <p>
            This plugin allows AI to communicate with Figma, enabling
            AI-assisted design operations. Built on top of the open source
            <a
              class="link"
              onclick="window.open(`https://github.com/sonnylazuardi/cursor-talk-to-figma`, '_blank')"
              >Cursor Talk to Figma</a
            > project created by
            <a
              class="link"
              onclick="window.open(`https://github.com/sonnylazuardi`, '_blank')"
              >Sonny</a
            >.
          </p>
          <p>Version: 1.0.0</p>

          <h2>How to Use</h2>
          <ol>
            <li>Connect to the WebSocket server using the server URL</li>
            <li>Once connected, you can interact with Figma through an MCP supported AI Client</li>
          </ol>
        </div>
      </div>
    </div>

    <script>
      // WebSocket connection state
      const state = {
        connected: false,
        socket: null,
        serverUrl: "https://talk-to-figma-socket.onrender.com",
        pendingRequests: new Map(),
        channel: null,
      };

      // UI Elements
      const serverInput = document.getElementById("server");
      const connectButton = document.getElementById("btn-connect");
      const disconnectButton = document.getElementById("btn-disconnect");
      const connectionStatus = document.getElementById("connection-status");
      const connectionMessage = document.getElementById("connection-message");
      const channelInfo = document.getElementById("channel-info");
      const channelName = document.getElementById("channel-name");

      // Tabs
      const tabs = document.querySelectorAll(".tab");
      const tabContents = document.querySelectorAll(".tab-content");

      // Add UI elements for progress tracking
      const progressContainer = document.getElementById("progress-container");
      const progressBar = document.getElementById("progress-bar");
      const progressMessage = document.getElementById("progress-message");
      const progressStatus = document.getElementById("progress-status");
      const progressPercentage = document.getElementById("progress-percentage");

      // Initialize UI
      function updateConnectionStatus(isConnected, message, channel = null) {
        state.connected = isConnected;
        
        // Update the main connection message
        connectionMessage.textContent = message || (isConnected
          ? "Connected to the MCP server"
          : "Not connected to the MCP server");
        
        // Update channel information
        if (isConnected && channel) {
          channelName.textContent = channel;
          channelInfo.classList.remove("hidden");
        } else {
          channelInfo.classList.add("hidden");
        }
        
        connectionStatus.className = `status ${
          isConnected ? "connected" : "disconnected"
        }`;

        connectButton.disabled = isConnected;
        disconnectButton.disabled = !isConnected;
        serverInput.disabled = isConnected;
      }

      // Connect to WebSocket server
      async function connectToServer(serverUrl) {
        try {
          if (state.connected && state.socket) {
            updateConnectionStatus(true, "Already connected to server");
            return;
          }

          state.serverUrl = serverUrl;
          // Convert https:// to wss:// for WebSocket connection
          const wsUrl = serverUrl.replace(/^https?:\/\//, 'wss://');
          state.socket = new WebSocket(wsUrl);

          state.socket.onopen = () => {
            // Generate random channel name
            const channelName = generateChannelName();
            console.log("Joining channel:", channelName);
            state.channel = channelName;

            // Join the channel using the same format as App.tsx
            state.socket.send(
              JSON.stringify({
                type: "join",
                channel: channelName.trim(),
              })
            );
          };

          state.socket.onmessage = (event) => {
            try {
              const data = JSON.parse(event.data);
              console.log("Received message:", data);

              if (data.type === "system") {
                // Successfully joined channel
                if (data.message && data.message.result) {
                  state.connected = true;
                  const channelName = data.channel;
                  updateConnectionStatus(
                    true,
                    `Connected to the MCP server.`,
                    channelName
                  );

                  // Notify the plugin code
                  parent.postMessage(
                    {
                      pluginMessage: {
                        type: "notify",
                        message: `Connected to the MCP server at ${serverUrl} in channel: ${channelName}`,
                      },
                    },
                    "*"
                  );
                }
              } else if (data.type === "error") {
                console.error("Error:", data.message);
                updateConnectionStatus(false, `Error: ${data.message}`);
                state.socket.close();
              }

              handleSocketMessage(data);
            } catch (error) {
              console.error("Error parsing message:", error);
            }
          };

          state.socket.onclose = () => {
            state.connected = false;
            state.socket = null;
            updateConnectionStatus(false, "Disconnected from server");
          };

          state.socket.onerror = (error) => {
            console.error("WebSocket error:", error);
            updateConnectionStatus(false, "Connection error");
            state.connected = false;
            state.socket = null;
          };
        } catch (error) {
          console.error("Connection error:", error);
          updateConnectionStatus(
            false,
            `Connection error: ${error.message || "Unknown error"}`
          );
        }
      }

      // Disconnect from websocket server
      function disconnectFromServer() {
        if (state.socket) {
          state.socket.close();
          state.socket = null;
          state.connected = false;
          updateConnectionStatus(false, "Disconnected from server");
        }
      }

      // Handle messages from the WebSocket
      async function handleSocketMessage(payload) {
        const data = payload.message;
        console.log("handleSocketMessage", data);

        // If it's a response to a previous request
        if (data.id && state.pendingRequests.has(data.id)) {
          const { resolve, reject } = state.pendingRequests.get(data.id);
          state.pendingRequests.delete(data.id);

          if (data.error) {
            reject(new Error(data.error));
          } else {
            resolve(data.result);
          }
          return;
        }

        // If it's a new command
        if (data.command) {
          try {
            // Send the command to the plugin code
            parent.postMessage(
              {
                pluginMessage: {
                  type: "execute-command",
                  id: data.id,
                  command: data.command,
                  params: data.params,
                },
              },
              "*"
            );
          } catch (error) {
            // Send error back to WebSocket
            sendErrorResponse(
              data.id,
              error.message || "Error executing command"
            );
          }
        }
      }

      // Send a command to the WebSocket server
      async function sendCommand(command, params) {
        return new Promise((resolve, reject) => {
          if (!state.connected || !state.socket) {
            reject(new Error("Not connected to server"));
            return;
          }

          const id = generateId();
          state.pendingRequests.set(id, { resolve, reject });

          state.socket.send(
            JSON.stringify({
              id,
              type: "message",
              channel: state.channel,
              message: {
                id,
                command,
                params,
              },
            })
          );

          // Set timeout to reject the promise after 30 seconds
          setTimeout(() => {
            if (state.pendingRequests.has(id)) {
              state.pendingRequests.delete(id);
              reject(new Error("Request timed out"));
            }
          }, 30000);
        });
      }

      // Send success response back to WebSocket
      function sendSuccessResponse(id, result) {
        if (!state.connected || !state.socket) {
          console.error("Cannot send response: socket not connected");
          return;
        }

        state.socket.send(
          JSON.stringify({
            id,
            type: "message",
            channel: state.channel,
            message: {
              id,
              result,
            },
          })
        );
      }

      // Send error response back to WebSocket
      function sendErrorResponse(id, errorMessage) {
        if (!state.connected || !state.socket) {
          console.error("Cannot send error response: socket not connected");
          return;
        }

        state.socket.send(
          JSON.stringify({
            id,
            type: "message",
            channel: state.channel,
            message: {
              id,
              error: errorMessage,
              result: {}
            },
          })
        );
      }

      // Helper to generate unique IDs
      function generateId() {
        return (
          Date.now().toString(36) + Math.random().toString(36).substr(2, 5)
        );
      }

      // Add this function after the generateId() function
      function generateChannelName() {
        const characters = "abcdefghijklmnopqrstuvwxyz0123456789";
        let result = "";
        for (let i = 0; i < 8; i++) {
          result += characters.charAt(
            Math.floor(Math.random() * characters.length)
          );
        }
        return result;
      }

      // Tab switching
      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          tabs.forEach((t) => t.classList.remove("active"));
          tabContents.forEach((c) => c.classList.remove("active"));

          tab.classList.add("active");
          const contentId = "content-" + tab.id.split("-")[1];
          document.getElementById(contentId).classList.add("active");
        });
      });

      // Connect to server
      connectButton.addEventListener("click", () => {
        const serverUrl = serverInput.value.trim() || "https://talk-to-figma-socket.onrender.com";
        updateConnectionStatus(false, "Connecting...");
        connectionStatus.className = "status info";
        connectToServer(serverUrl);
      });

      // Disconnect from server
      disconnectButton.addEventListener("click", () => {
        updateConnectionStatus(false, "Disconnecting...");
        connectionStatus.className = "status info";
        disconnectFromServer();
      });

      // Function to update progress UI
      function updateProgressUI(progressData) {
        // Show progress container if hidden
        progressContainer.classList.remove("hidden");
        
        // Update progress bar
        const progress = progressData.progress || 0;
        progressBar.style.width = `${progress}%`;
        progressPercentage.textContent = `${progress}%`;
        
        // Update message
        progressMessage.textContent = progressData.message || "Operation in progress";
        
        // Update status text based on operation state
        if (progressData.status === 'started') {
          progressStatus.textContent = "Started";
          progressStatus.className = "";
        } else if (progressData.status === 'in_progress') {
          progressStatus.textContent = "In Progress";
          progressStatus.className = "";
        } else if (progressData.status === 'completed') {
          progressStatus.textContent = "Completed";
          progressStatus.className = "operation-complete";
          
          // Hide progress container after 5 seconds
          setTimeout(() => {
            progressContainer.classList.add("hidden");
          }, 5000);
        } else if (progressData.status === 'error') {
          progressStatus.textContent = "Error";
          progressStatus.className = "operation-error";
        }
      }

      // Send operation progress update to server
      function sendProgressUpdateToServer(progressData) {
        if (!state.connected || !state.socket) {
          console.error("Cannot send progress update: socket not connected");
          return;
        }
        
        console.log("Sending progress update to server:", progressData);
        
        state.socket.send(
          JSON.stringify({
            id: progressData.commandId,
            type: "progress_update",
            channel: state.channel,
            message: {
              id: progressData.commandId,
              type: "progress_update",
              data: progressData
            }
          })
        );
      }
      
      // Reset progress UI
      function resetProgressUI() {
        progressContainer.classList.add("hidden");
        progressBar.style.width = "0%";
        progressMessage.textContent = "No operation in progress";
        progressStatus.textContent = "Not started";
        progressStatus.className = "";
        progressPercentage.textContent = "0%";
      }

      // Listen for messages from the plugin code
      window.onmessage = (event) => {
        const message = event.data.pluginMessage;
        if (!message) return;

        console.log("Received message from plugin:", message);

        switch (message.type) {
          case "connection-status":
            updateConnectionStatus(message.connected, message.message);
            break;
          case "auto-connect":
            connectButton.click();
            break;
          case "auto-disconnect":
            disconnectButton.click();
            break;
          case "command-result":
            // Forward the result from plugin code back to WebSocket
            sendSuccessResponse(message.id, message.result);
            break;
          case "command-error":
            // Forward the error from plugin code back to WebSocket
            sendErrorResponse(message.id, message.error);
            break;
          case "command_progress":
            // Update UI with progress information
            updateProgressUI(message);
            // Forward progress update to server
            sendProgressUpdateToServer(message);
            break;
        }
      };
    </script>
  </body>
</html>